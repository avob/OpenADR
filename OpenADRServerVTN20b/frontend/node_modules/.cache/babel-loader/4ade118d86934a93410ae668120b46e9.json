{"ast":null,"code":"import _classCallCheck from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/src/components/LoginPage.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as accountActions from '../actions/accountActions';\nimport { withStyles } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport amber from '@material-ui/core/colors/amber';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Paper from '@material-ui/core/Paper';\nimport { history, config } from '../store/configureStore';\n\nfunction TabContainer(props) {\n  return React.createElement(Typography, {\n    component: \"div\",\n    style: {\n      padding: 8 * 3\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, props.children);\n}\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      flexGrow: 1\n    },\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    textField: {\n      marginLeft: theme.spacing.unit,\n      marginRight: theme.spacing.unit\n    },\n    dense: {\n      marginTop: 19\n    },\n    menu: {\n      width: 200\n    },\n    formControl: {\n      margin: theme.spacing.unit\n    },\n    card: {\n      maxWidth: 350,\n      minWidth: 350\n    },\n    media: {\n      height: 40,\n      paddingTop: 10,\n      paddingRight: 10\n    },\n    button: {\n      margin: theme.spacing.unit\n    },\n    stepper: {\n      backgroundColor: '#fafafa'\n    },\n    warning: {\n      backgroundColor: amber[700]\n    },\n    icon: {\n      fontSize: 20\n    },\n    iconVariant: {\n      opacity: 0.9,\n      marginRight: theme.spacing.unit\n    },\n    message: {\n      display: 'flex'\n    },\n    iconButton: {\n      marginTop: 10\n    },\n    main: _defineProperty({\n      width: 'auto',\n      display: 'block',\n      // Fix IE 11 issue.\n      marginLeft: theme.spacing.unit * 3,\n      marginRight: theme.spacing.unit * 3\n    }, theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2), {\n      width: 400,\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    }),\n    paper: {\n      marginTop: theme.spacing.unit * 8,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: \"\".concat(theme.spacing.unit * 2, \"px \").concat(theme.spacing.unit * 3, \"px \").concat(theme.spacing.unit * 3, \"px\")\n    },\n    avatar: {\n      margin: theme.spacing.unit,\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing.unit\n    },\n    submit: {\n      marginTop: theme.spacing.unit * 3\n    }\n  };\n};\n\nexport var LoginPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LoginPage, _React$Component);\n\n  function LoginPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LoginPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      value: 0,\n      username: \"\",\n      password: \"\"\n    };\n\n    _this.handleChange = function (event, value) {\n      _this.setState({\n        value: value\n      });\n    };\n\n    _this.handleUsernameChange = function (e) {\n      _this.setState({\n        username: e.target.value\n      });\n    };\n\n    _this.handlePasswordChange = function (e) {\n      _this.setState({\n        password: e.target.value\n      });\n    };\n\n    _this.handleSubmit = function () {\n      config.username = _this.state.username;\n      config.password = _this.state.password;\n\n      _this.setState({\n        username: \"\",\n        password: \"\"\n      });\n\n      _this.props.accountActions.loadLoginUser();\n    };\n\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.accountActions.loadLoginUser();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.user.isConnected) {\n        if (this.props.history.location && this.props.history.location.state && this.props.history.location.state.from) {\n          history.push(this.props.history.location.state.from.pathname);\n        } else {\n          history.push('/');\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          account = _this$props.account;\n      var value = this.state.value;\n      var hasError = this.props.user.connectionError != null;\n      var authenticationError = hasError && (\"\" + this.props.user.connectionError == \"Error: Forbidden\" || \"\" + this.props.user.connectionError == \"Error: Unauthorized\");\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, !hasError ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        value: this.state.value,\n        onChange: this.handleChange,\n        indicatorColor: \"primary\",\n        textColor: \"primary\",\n        centered: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Tab, {\n        label: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      })), React.createElement(Divider, {\n        variant: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }), value === 0 && React.createElement(TabContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      })) : null, hasError && authenticationError ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"main\", {\n        className: classes.main,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }), React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        className: classes.avatar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(LockOutlinedIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        component: \"h1\",\n        variant: \"h5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"Sign in\"), React.createElement(\"form\", {\n        className: classes.form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Username\"), React.createElement(Input, {\n        autoComplete: \"username\",\n        autoFocus: true,\n        onChange: this.handleUsernameChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"Password\"), React.createElement(Input, {\n        id: \"password\",\n        autoComplete: \"current-password\",\n        onChange: this.handlePasswordChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      })), React.createElement(FormControlLabel, {\n        control: React.createElement(Checkbox, {\n          value: \"remember\",\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }),\n        label: \"Remember me\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }), React.createElement(Button, {\n        fullWidth: true,\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.submit,\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"Sign in\"))))) : null, hasError && !authenticationError ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"Can't connect to VTN backend:\" + this.props.user.connectionError) : null);\n    }\n  }]);\n\n  return LoginPage;\n}(React.Component);\nLoginPage.propTypes = {\n  accountActions: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    accountActions: bindActionCreators(accountActions, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(LoginPage));","map":{"version":3,"sources":["/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/src/components/LoginPage.js"],"names":["React","PropTypes","connect","bindActionCreators","accountActions","withStyles","Tabs","Tab","Typography","Divider","amber","Avatar","Button","CssBaseline","FormControl","FormControlLabel","Checkbox","Input","InputLabel","LockOutlinedIcon","Paper","history","config","TabContainer","props","padding","children","styles","theme","root","flexGrow","container","display","flexWrap","textField","marginLeft","spacing","unit","marginRight","dense","marginTop","menu","width","formControl","margin","card","maxWidth","minWidth","media","height","paddingTop","paddingRight","button","stepper","backgroundColor","warning","icon","fontSize","iconVariant","opacity","message","iconButton","main","breakpoints","up","paper","flexDirection","alignItems","avatar","palette","secondary","form","submit","LoginPage","state","value","username","password","handleChange","event","setState","handleUsernameChange","e","target","handlePasswordChange","handleSubmit","loadLoginUser","nextProps","user","isConnected","location","from","push","pathname","classes","account","hasError","connectionError","authenticationError","Component","propTypes","object","isRequired","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport * as accountActions from '../actions/accountActions';\n\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\n\nimport amber from '@material-ui/core/colors/amber';\n\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Paper from '@material-ui/core/Paper';\n\nimport { history, config } from '../store/configureStore';\n\n\n\nfunction TabContainer( props ) {\n  return (\n  <Typography component=\"div\" style={ { padding: 8 * 3 } }>\n    { props.children }\n  </Typography>\n  );\n}\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n  },\n  dense: {\n    marginTop: 19,\n  },\n  menu: {\n    width: 200,\n  },\n  formControl: {\n    margin: theme.spacing.unit,\n  },\n  card: {\n    maxWidth: 350,\n    minWidth: 350,\n  },\n  media: {\n    height: 40,\n    paddingTop: 10,\n    paddingRight: 10\n  },\n  button: {\n    margin: theme.spacing.unit,\n  },\n  stepper: {\n    backgroundColor: '#fafafa'\n  },\n  warning: {\n    backgroundColor: amber[ 700 ],\n  },\n  icon: {\n    fontSize: 20,\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing.unit,\n  },\n  message: {\n    display: 'flex',\n  },\n  iconButton: {\n    marginTop: 10\n  },\n  main: {\n    width: 'auto',\n    display: 'block', // Fix IE 11 issue.\n    marginLeft: theme.spacing.unit * 3,\n    marginRight: theme.spacing.unit * 3,\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n      width: 400,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  },\n  paper: {\n    marginTop: theme.spacing.unit * 8,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n  },\n  avatar: {\n    margin: theme.spacing.unit,\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing.unit,\n  },\n  submit: {\n    marginTop: theme.spacing.unit * 3,\n  },\n});\n\nexport class LoginPage extends React.Component {\n  state = {\n    value: 0,\n    username:\"\",\n    password:\"\"\n  };\n\n  handleChange = (event, value) => {\n    this.setState( {\n      value\n    } );\n  };\n\n\n  componentDidMount() {\n    this.props.accountActions.loadLoginUser();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if(nextProps.user.isConnected){\n      if(this.props.history.location && this.props.history.location.state \n          && this.props.history.location.state.from) {\n        history.push( this.props.history.location.state.from.pathname)\n      }\n      else {\n        history.push( '/' )\n      }\n    }\n  }\n\n  handleUsernameChange = (e) => {\n    this.setState({username: e.target.value});\n  }\n\n  handlePasswordChange = (e) => {\n    this.setState({password: e.target.value});\n  }\n\n  handleSubmit = () => {\n    config.username = this.state.username;\n    config.password = this.state.password;\n    this.setState({username: \"\", password: \"\"});\n    this.props.accountActions.loadLoginUser();\n  }\n\n  render() {\n    const {classes, account} = this.props;\n    const {value} = this.state;\n\n    var hasError = this.props.user.connectionError != null;\n    var authenticationError = hasError \n        && ( \"\"+this.props.user.connectionError == \"Error: Forbidden\"\n          || \"\"+this.props.user.connectionError == \"Error: Unauthorized\")\n\n    return (\n    <div className={ classes.root }>\n      {(!hasError) ? <div>\n          <Tabs value={ this.state.value }\n            onChange={ this.handleChange }\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            centered>\n        <Tab label=\"Login\" />\n      </Tabs>\n      <Divider variant=\"middle\" />\n\n      { value === 0 && <TabContainer>\n          \n                       </TabContainer> }\n\n        </div>: null }\n\n      {(hasError && authenticationError) ? <div>\n        {/* \"SSL Certificate authentication failed, must provide login / password\"*/ }\n          <main className={classes.main}>\n      <CssBaseline />\n           <Paper className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form}>\n          <FormControl margin=\"normal\" required fullWidth>\n            <InputLabel htmlFor=\"username\">Username</InputLabel>\n            <Input autoComplete=\"username\" autoFocus \n              onChange={this.handleUsernameChange}/>\n          </FormControl>\n          <FormControl margin=\"normal\" required fullWidth>\n            <InputLabel htmlFor=\"password\">Password</InputLabel>\n            <Input id=\"password\" autoComplete=\"current-password\"\n              onChange={this.handlePasswordChange}/>\n          </FormControl>\n          <FormControlLabel\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\n            label=\"Remember me\"\n          />\n          <Button\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            onClick={this.handleSubmit}\n          >\n            Sign in\n          </Button>\n        </form>\n      </Paper>\n        </main>\n        </div>: null }\n\n      {(hasError && !authenticationError) ? <div>\n        { \"Can't connect to VTN backend:\" + this.props.user.connectionError}\n        </div>: null }\n        \n      \n\n    </div>\n\n    );\n  }\n}\n\nLoginPage.propTypes = {\n  accountActions: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps( state ) {\n  return {\n    user: state.user\n  };\n}\n\nfunction mapDispatchToProps( dispatch ) {\n  return {\n    accountActions: bindActionCreators( accountActions, dispatch ),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)( withStyles( styles )( LoginPage ) );\n"]},"metadata":{},"sourceType":"module"}