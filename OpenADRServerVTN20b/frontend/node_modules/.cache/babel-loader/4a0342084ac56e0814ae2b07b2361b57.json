{"ast":null,"code":"import _classCallCheck from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/src/components/VenDetailCreateReport/VenDetailCreateReport.js\";\nimport React from 'react';\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport { VenAvailableReportHeader, VenAvailableReportParamsHeader } from '../common/VenAvailableReportHeader';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Button from '@material-ui/core/Button';\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\nimport { minutesToICalDuration, iCalDurationInSeconds } from '../../utils/time';\nimport { isActionReport, isHistoryReport, isTelemetryReport } from '../../utils/venReport';\n\nvar toolbarStyles = function toolbarStyles(theme) {\n  return {\n    root: {\n      paddingRight: theme.spacing.unit\n    },\n    highlight: theme.palette.type === 'light' ? {\n      color: theme.palette.secondary.main,\n      backgroundColor: lighten(theme.palette.primary.light, 0.85)\n    } : {\n      color: theme.palette.text.primary,\n      backgroundColor: theme.palette.secondary.dark\n    },\n    spacer: {\n      flex: '1 1 100%'\n    },\n    actions: {\n      color: theme.palette.text.secondary\n    },\n    title: {\n      flex: '0 0 auto'\n    },\n    margin: {\n      marginRight: '10px'\n    }\n  };\n};\n\nvar VenAvailableReportDescriptionTableToolbar = function VenAvailableReportDescriptionTableToolbar(props) {\n  var numSelected = props.numSelected,\n      availableReport = props.availableReport,\n      classes = props.classes,\n      handeCreateRequestClick = props.handeCreateRequestClick;\n  return React.createElement(Toolbar, {\n    className: classNames(classes.root, _defineProperty({}, classes.highlight, numSelected > 0)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, numSelected > 0 ? React.createElement(Typography, {\n    color: \"primary\",\n    variant: \"subtitle1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, numSelected, \" selected\") : React.createElement(Typography, {\n    variant: \"h6\",\n    id: \"tableTitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"Select Report Descriptions\")), React.createElement(\"div\", {\n    className: classes.spacer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: classes.actions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, numSelected > 0 ? React.createElement(Tooltip, {\n    title: \"Request selected report description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"primary\",\n    \"aria-label\": \"Add\",\n    className: classes.margin,\n    onClick: handeCreateRequestClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(CloudDownloadIcon, {\n    className: classes.margin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }), availableReport.reportName === \"METADATA_TELEMETRY_USAGE\" ? \"Subscribe\" : \"Request\")) : null));\n};\n\nVenAvailableReportDescriptionTableToolbar = withStyles(toolbarStyles)(VenAvailableReportDescriptionTableToolbar);\n\nvar VenAvailableReportDescriptionTable =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(VenAvailableReportDescriptionTable, _React$Component);\n\n  function VenAvailableReportDescriptionTable(props) {\n    var _this;\n\n    _classCallCheck(this, VenAvailableReportDescriptionTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(VenAvailableReportDescriptionTable).call(this, props));\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(VenAvailableReportDescriptionTable, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          availableReportDescription = _this$props.availableReportDescription,\n          availableReport = _this$props.availableReport;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(VenAvailableReportDescriptionTableToolbar, {\n        handeCreateRequestClick: this.props.handeCreateRequestClick,\n        availableReport: availableReport,\n        numSelected: this.props.selected.length,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(Table, {\n        className: classes.table,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        padding: \"checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(Checkbox, {\n        color: \"primary\",\n        indeterminate: this.props.selected.length > 0 && this.props.selected.length < availableReportDescription.length,\n        checked: this.props.selected.length === availableReportDescription.length,\n        onChange: this.props.handleSelectAllClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      })), React.createElement(TableCell, {\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"rID\"), React.createElement(TableCell, {\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"ReportType\"), React.createElement(TableCell, {\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"ReadingType\"), React.createElement(TableCell, {\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"OadrMinPeriod\"), React.createElement(TableCell, {\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"OadrMaxPeriod\"), React.createElement(TableCell, {\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"OadrOnchange\"))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, availableReportDescription.map(function (row) {\n        var isSelected = _this2.props.isSelected(row.rid);\n\n        return React.createElement(TableRow, {\n          key: row.id,\n          hover: true,\n          onClick: function onClick(event) {\n            return _this2.props.handleClick(event, row.rid);\n          },\n          role: \"checkbox\",\n          \"aria-checked\": isSelected,\n          tabIndex: -1,\n          selected: isSelected,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          padding: \"checkbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, React.createElement(Checkbox, {\n          checked: isSelected,\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        })), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, row.rid), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, row.reportType), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, row.readingType), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, row.oadrMinPeriod), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, row.oadrMaxPeriod), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, row.oadrOnChange ? \"True\" : \"False\"));\n      })))));\n    }\n  }]);\n\n  return VenAvailableReportDescriptionTable;\n}(React.Component);\n\nexport var VenDetailCreateReport =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(VenDetailCreateReport, _React$Component2);\n\n  function VenDetailCreateReport(props) {\n    var _this3;\n\n    _classCallCheck(this, VenDetailCreateReport);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(VenDetailCreateReport).call(this, props));\n\n    _this3.onStartChange = function (start) {\n      _this3.setState({\n        start: start\n      });\n    };\n\n    _this3.onDurationChange = function (duration) {\n      return _this3.setState({\n        duration: duration\n      });\n    };\n\n    _this3.onGranularityChange = function (granularity) {\n      _this3.setState({\n        granularity: granularity\n      });\n    };\n\n    _this3.onReportBackDurationChange = function (reportBackDuration) {\n      return _this3.setState({\n        reportBackDuration: reportBackDuration\n      });\n    };\n\n    _this3.handleSelectAllClick = function (event) {\n      if (event.target.checked) {\n        _this3.setState(function (state) {\n          return {\n            selected: _this3.props.availableReportDescription.map(function (n) {\n              return n.rid;\n            })\n          };\n        });\n\n        return;\n      }\n\n      _this3.setState({\n        selected: []\n      });\n    };\n\n    _this3.isSelected = function (rid) {\n      return _this3.state.selected.indexOf(rid) !== -1;\n    };\n\n    _this3.handeCreateRequestClick = function () {\n      var start = _this3.state.start;\n      var end = null;\n\n      if (start != null) {\n        end = new Date();\n        end.setTime(start + _this3.state.duration * 60 * 1000);\n        end = end.getTime();\n      }\n\n      var granularity = null;\n      var reportBackDuration = null;\n\n      if (_this3.state.granularity) {\n        granularity = minutesToICalDuration(_this3.state.granularity);\n      }\n\n      if (_this3.state.reportBackDuration) {\n        reportBackDuration = minutesToICalDuration(_this3.state.reportBackDuration);\n      }\n\n      var rid = null;\n\n      if (_this3.state.selected.length < _this3.props.availableReportDescription.length) {\n        rid = _this3.state.selected;\n      }\n\n      if (isHistoryReport(_this3.props.availableReport) && start != null && end != null) {\n        _this3.props.createRequestedReport(_this3.props.venId, _this3.props.reportSpecifierId, start, end, rid);\n      } else if (isTelemetryReport(_this3.props.availableReport) && granularity != null && reportBackDuration != null) {\n        _this3.props.createRequestedReportSubscription(_this3.props.venId, _this3.props.reportSpecifierId, granularity, reportBackDuration, rid);\n      } else if (isActionReport(_this3.props.availableReport)) {\n        _this3.props.createRequestedReport(_this3.props.venId, _this3.props.reportSpecifierId, null, null, rid);\n      } else {\n        _this3.setState({\n          hasError: true\n        });\n      }\n    };\n\n    _this3.handleClick = function (event, rid) {\n      var selected = _this3.state.selected;\n      var selectedIndex = selected.indexOf(rid);\n      var newSelected = [];\n\n      if (selectedIndex === -1) {\n        newSelected = newSelected.concat(selected, rid);\n      } else if (selectedIndex === 0) {\n        newSelected = newSelected.concat(selected.slice(1));\n      } else if (selectedIndex === selected.length - 1) {\n        newSelected = newSelected.concat(selected.slice(0, -1));\n      } else if (selectedIndex > 0) {\n        newSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n      }\n\n      _this3.setState({\n        selected: newSelected\n      });\n    };\n\n    _this3.state = {\n      start: null,\n      duration: null,\n      granularity: null,\n      reportBackDuration: null,\n      selected: [],\n      hasError: false\n    };\n    return _this3;\n  }\n\n  _createClass(VenDetailCreateReport, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      console.log(nextProps.availableReport);\n      var newState = {};\n\n      if (nextProps.availableReport.start != null) {\n        newState.start = nextProps.availableReport.start;\n      }\n\n      if (nextProps.availableReport.duration != null) {\n        console.log(nextProps.availableReport.duration, iCalDurationInSeconds(nextProps.availableReport.duration));\n        newState.duration = iCalDurationInSeconds(nextProps.availableReport.duration) / 60;\n      }\n\n      this.setState(newState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          availableReportDescription = _this$props2.availableReportDescription,\n          availableReport = _this$props2.availableReport,\n          venId = _this$props2.venId,\n          reportSpecifierId = _this$props2.reportSpecifierId;\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, React.createElement(VenAvailableReportHeader, {\n        availableReport: availableReport,\n        classes: classes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }), React.createElement(Divider, {\n        style: {\n          marginBottom: '30px',\n          marginTop: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }), !isActionReport(this.props.availableReport) ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, React.createElement(VenAvailableReportParamsHeader, {\n        availableReport: availableReport,\n        classes: classes,\n        start: this.state.start,\n        duration: this.state.duration,\n        granularity: this.state.granularity,\n        reportBackDuration: this.state.reportBackDuration,\n        onStartChange: this.onStartChange,\n        onDurationChange: this.onDurationChange,\n        onGranularityChange: this.onGranularityChange,\n        onReportBackDurationChange: this.onReportBackDurationChange,\n        hasError: this.state.hasError,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }), React.createElement(Divider, {\n        style: {\n          marginBottom: '30px',\n          marginTop: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      })) : null, React.createElement(VenAvailableReportDescriptionTable, {\n        availableReport: availableReport,\n        availableReportDescription: availableReportDescription,\n        handleSelectAllClick: this.handleSelectAllClick,\n        handleClick: this.handleClick,\n        isSelected: this.isSelected,\n        handeCreateRequestClick: this.handeCreateRequestClick,\n        selected: this.state.selected,\n        venId: venId,\n        reportSpecifierId: reportSpecifierId,\n        classes: classes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return VenDetailCreateReport;\n}(React.Component);\nexport default VenDetailCreateReport;","map":{"version":3,"sources":["/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/src/components/VenDetailCreateReport/VenDetailCreateReport.js"],"names":["React","classNames","withStyles","VenAvailableReportHeader","VenAvailableReportParamsHeader","Typography","Divider","Tooltip","Button","CloudDownloadIcon","Table","TableBody","TableCell","TableHead","TableRow","Paper","Checkbox","Toolbar","lighten","minutesToICalDuration","iCalDurationInSeconds","isActionReport","isHistoryReport","isTelemetryReport","toolbarStyles","theme","root","paddingRight","spacing","unit","highlight","palette","type","color","secondary","main","backgroundColor","primary","light","text","dark","spacer","flex","actions","title","margin","marginRight","VenAvailableReportDescriptionTableToolbar","props","numSelected","availableReport","classes","handeCreateRequestClick","reportName","VenAvailableReportDescriptionTable","state","availableReportDescription","selected","length","table","handleSelectAllClick","map","row","isSelected","rid","id","event","handleClick","reportType","readingType","oadrMinPeriod","oadrMaxPeriod","oadrOnChange","Component","VenDetailCreateReport","onStartChange","start","setState","onDurationChange","duration","onGranularityChange","granularity","onReportBackDurationChange","reportBackDuration","target","checked","n","indexOf","end","Date","setTime","getTime","createRequestedReport","venId","reportSpecifierId","createRequestedReportSubscription","hasError","selectedIndex","newSelected","concat","slice","nextProps","console","log","newState","marginBottom","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport classNames from 'classnames';\n\n\nimport { withStyles } from '@material-ui/core/styles';\n\n\nimport { VenAvailableReportHeader, VenAvailableReportParamsHeader } from '../common/VenAvailableReportHeader'\n\n\n\n\n\n\n\n\nimport Typography from '@material-ui/core/Typography';\n\nimport Divider from '@material-ui/core/Divider';\n\n\n\n\n\n\n\nimport Tooltip from '@material-ui/core/Tooltip';\n\n\n\n\n\n\n\nimport Button from '@material-ui/core/Button';\n\n\n\n\n\n\n\n\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\n\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport Toolbar from '@material-ui/core/Toolbar';\n\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\n\n\nimport {minutesToICalDuration, iCalDurationInSeconds} from '../../utils/time'\nimport {isActionReport, isHistoryReport, isTelemetryReport} from '../../utils/venReport'\n\n\n\nconst toolbarStyles = theme => ({\n  root: {\n    paddingRight: theme.spacing.unit,\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.primary.light, 0.85),\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark,\n        },\n  spacer: {\n    flex: '1 1 100%',\n  },\n  actions: {\n    color: theme.palette.text.secondary,\n  },\n  title: {\n    flex: '0 0 auto',\n  },\n  margin: {\n    marginRight: '10px',\n  },\n});\n\nlet VenAvailableReportDescriptionTableToolbar = props => {\n  const { numSelected, availableReport, classes, handeCreateRequestClick } = props;\n  return (\n    <Toolbar\n      className={classNames(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      <div className={classes.title}>\n        {numSelected > 0 ? (\n          <Typography color=\"primary\" variant=\"subtitle1\">\n            {numSelected} selected\n          </Typography>\n        ) : (\n          <Typography variant=\"h6\" id=\"tableTitle\">\n            Select Report Descriptions\n          </Typography>\n        )}\n      </div>\n      <div className={classes.spacer} />\n      <div className={classes.actions}>\n        {numSelected > 0 ? (\n          <Tooltip title=\"Request selected report description\">\n           \n          <Button variant=\"outlined\" color=\"primary\" aria-label=\"Add\" className={classes.margin} onClick={handeCreateRequestClick}>\n            <CloudDownloadIcon className={classes.margin} />\n             {(availableReport.reportName === \"METADATA_TELEMETRY_USAGE\") ? \"Subscribe\" : \"Request\"}\n          </Button>\n\n          </Tooltip>\n        ) : null}\n      </div>\n    </Toolbar>\n  );\n};\n\nVenAvailableReportDescriptionTableToolbar = withStyles(toolbarStyles)(VenAvailableReportDescriptionTableToolbar);\n\nclass VenAvailableReportDescriptionTable extends React.Component {\n\n  constructor( props ) {\n    super( props );\n    this.state = {}\n  }\n\n  \n  \n\n  render() {\n    const {classes, availableReportDescription, availableReport} = this.props\n    return (\n      <div>\n        <Paper className={classes.root}>\n          <VenAvailableReportDescriptionTableToolbar handeCreateRequestClick={this.props.handeCreateRequestClick} \n          availableReport={availableReport} numSelected={this.props.selected.length} />\n          <Table className={classes.table}>\n            <TableHead>\n              <TableRow>\n                <TableCell padding=\"checkbox\">\n                  <Checkbox\n                     color=\"primary\"\n                    indeterminate={this.props.selected.length > 0 && this.props.selected.length < availableReportDescription.length}\n                    checked={this.props.selected.length === availableReportDescription.length}\n                    onChange={this.props.handleSelectAllClick}\n                  />\n                </TableCell>\n                <TableCell align=\"right\">rID</TableCell>\n                <TableCell align=\"right\">ReportType</TableCell>\n                <TableCell align=\"right\">ReadingType</TableCell>\n                <TableCell align=\"right\">OadrMinPeriod</TableCell>\n                <TableCell align=\"right\">OadrMaxPeriod</TableCell>\n                <TableCell align=\"right\">OadrOnchange</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {availableReportDescription.map(row => {\n                const isSelected = this.props.isSelected(row.rid);\n                return (\n                  <TableRow key={row.id}\n                    hover\n                        onClick={event => this.props.handleClick(event, row.rid)}\n                        role=\"checkbox\"\n                        aria-checked={isSelected}\n                        tabIndex={-1}\n                        selected={isSelected}>\n                    <TableCell padding=\"checkbox\">\n                       <Checkbox checked={isSelected}  color=\"primary\"/>\n                    </TableCell>\n                    <TableCell align=\"right\">{row.rid}</TableCell>\n                    <TableCell align=\"right\">{row.reportType}</TableCell>\n                    <TableCell align=\"right\">{row.readingType}</TableCell>\n                    <TableCell align=\"right\">{row.oadrMinPeriod}</TableCell>\n                    <TableCell align=\"right\">{row.oadrMaxPeriod}</TableCell>\n                    <TableCell align=\"right\">{(row.oadrOnChange) ? \"True\" : \"False\"}</TableCell>\n                </TableRow>\n              )\n              })}\n            </TableBody>\n          </Table>\n        </Paper>\n      </div>\n    );\n  }\n  \n}\n\n\n\n\nexport class VenDetailCreateReport extends React.Component {\n  constructor( props ) {\n    super( props );\n    this.state = {\n      start:null,\n      duration:null,\n      granularity: null,\n      reportBackDuration:null,\n      selected: [],\n      hasError:false\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    console.log(nextProps.availableReport)\n    var newState = {}\n    if(nextProps.availableReport.start != null) {\n      newState.start = nextProps.availableReport.start;\n    }\n    if(nextProps.availableReport.duration != null) {\n      console.log(nextProps.availableReport.duration, iCalDurationInSeconds(nextProps.availableReport.duration))\n      newState.duration = iCalDurationInSeconds(nextProps.availableReport.duration) / 60;\n    }\n    this.setState(newState);\n\n  }\n\n\n  onStartChange = start => { this.setState({start}) }\n  onDurationChange = duration => this.setState({duration})\n  onGranularityChange = granularity => {this.setState({granularity})}\n  onReportBackDurationChange = reportBackDuration => this.setState({reportBackDuration})\n\n\n  handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      this.setState(state => ({ selected: this.props.availableReportDescription.map(n => n.rid) }));\n      return;\n    }\n    this.setState({ selected: [] });\n  };\n\n  isSelected = rid => this.state.selected.indexOf(rid) !== -1;\n\n  handeCreateRequestClick = () => {\n    var start = this.state.start;\n    var end = null;\n    if(start != null) {\n      end = new Date();\n      end.setTime(start + this.state.duration * 60 * 1000);\n      end = end.getTime();\n    }\n    \n    var granularity = null;\n    var reportBackDuration = null;\n    if(this.state.granularity) {\n     granularity =  minutesToICalDuration(this.state.granularity);\n    }\n    if(this.state.reportBackDuration) {\n     reportBackDuration =  minutesToICalDuration(this.state.reportBackDuration);\n    }\n\n    var rid = null;\n    if(this.state.selected.length < this.props.availableReportDescription.length) {\n      rid = this.state.selected;\n    }\n\n    if(isHistoryReport(this.props.availableReport) && start != null && end != null){\n\n      this.props.createRequestedReport(this.props.venId, this.props.reportSpecifierId\n          , start, end, rid);\n    }\n    else if(isTelemetryReport(this.props.availableReport) && granularity != null \n      && reportBackDuration != null){\n      this.props.createRequestedReportSubscription(this.props.venId, this.props.reportSpecifierId\n          , granularity, reportBackDuration, rid);\n    }\n    else if(isActionReport(this.props.availableReport)) {\n      this.props.createRequestedReport(this.props.venId, this.props.reportSpecifierId\n          , null, null, rid);\n      \n    }\n    else {\n      this.setState({hasError: true});\n    }\n    \n  }\n\n  handleClick = (event, rid) => {\n    const { selected } = this.state;\n    const selectedIndex = selected.indexOf(rid);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, rid);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n    }\n\n    this.setState({ selected: newSelected });\n  }\n  \n \n  render() {\n    const {classes, availableReportDescription, availableReport\n      , venId, reportSpecifierId} = this.props;\n\n\n    return (\n    <div className={ classes.root } >\n      <VenAvailableReportHeader availableReport={availableReport} classes={classes}/>\n      <Divider style={ { marginBottom: '30px', marginTop: '20px' } } /> \n\n      {(!isActionReport(this.props.availableReport)) ? (\n        <div>\n          <VenAvailableReportParamsHeader availableReport={availableReport} classes={classes}\n            start={this.state.start}\n            duration={this.state.duration}\n            granularity={this.state.granularity}\n            reportBackDuration={this.state.reportBackDuration}\n            onStartChange={this.onStartChange}\n            onDurationChange={this.onDurationChange}\n            onGranularityChange={this.onGranularityChange}\n            onReportBackDurationChange={this.onReportBackDurationChange}\n            hasError={this.state.hasError}\n\n            />\n          <Divider style={ { marginBottom: '30px', marginTop: '20px' } } /> \n        </div>\n        ) : null}\n      \n    \n      <VenAvailableReportDescriptionTable availableReport={availableReport} \n          availableReportDescription={availableReportDescription} \n          handleSelectAllClick={this.handleSelectAllClick}\n          handleClick={this.handleClick}\n          isSelected={this.isSelected}\n          handeCreateRequestClick={this.handeCreateRequestClick}\n          selected={this.state.selected}\n          venId={venId}\n          reportSpecifierId={reportSpecifierId}\n          classes={classes}/>\n    </div>\n    );\n  }\n}\n\nexport default VenDetailCreateReport;\n"]},"metadata":{},"sourceType":"module"}