{"ast":null,"code":"export function swaggerAction(actionType, getAction, getPayload, getNext) {\n  return function (dispatch, getState) {\n    dispatch({\n      type: actionType,\n      swagger: function swagger(api) {\n        getAction(api).then(function (data) {\n          var msg = {\n            type: actionType + \"_SUCCESS\"\n          };\n\n          if (getPayload) {\n            var payload = getPayload(data);\n\n            if (payload) {\n              msg.payload = payload;\n            }\n          }\n\n          dispatch(msg);\n\n          if (getNext) {\n            getNext(dispatch, getState);\n          }\n        }).catch(function (err) {\n          dispatch({\n            type: actionType + \"_ERROR\",\n            payload: err\n          });\n        });\n      }\n    });\n  };\n}\nexport var jsonResponseContentType = {\n  responseContentType: 'application/json'\n};\nexport var multipartResponseContentType = {\n  responseContentType: 'multipart/form-data'\n};\nexport var saveData = function () {\n  var a = document.createElement('a');\n  document.body.appendChild(a);\n  a.style = 'display: none';\n  return function (data, fileName) {\n    var url = window.URL.createObjectURL(data);\n    a.href = url;\n    a.download = fileName;\n    a.click();\n    window.URL.revokeObjectURL(url);\n  };\n}();\nexport var parseJsonData = function parseJsonData(data) {\n  return JSON.parse(data.data);\n};","map":{"version":3,"sources":["/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/src/actions/apiUtils.js"],"names":["swaggerAction","actionType","getAction","getPayload","getNext","dispatch","getState","type","swagger","api","then","data","msg","payload","catch","err","jsonResponseContentType","responseContentType","multipartResponseContentType","saveData","a","document","createElement","body","appendChild","style","fileName","url","window","URL","createObjectURL","href","download","click","revokeObjectURL","parseJsonData","JSON","parse"],"mappings":"AAAA,OAAO,SAASA,aAAT,CAAwBC,UAAxB,EAAoCC,SAApC,EAA+CC,UAA/C,EAA2DC,OAA3D,EAAoE;AACzE,SAAO,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAC7BD,IAAAA,QAAQ,CAAE;AACRE,MAAAA,IAAI,EAAEN,UADE;AAERO,MAAAA,OAAO,EAAE,iBAAWC,GAAX,EAAiB;AACtBP,QAAAA,SAAS,CAACO,GAAD,CAAT,CACCC,IADD,CACO,UAAAC,IAAI,EAAI;AAEb,cAAIC,GAAG,GAAG;AACRL,YAAAA,IAAI,EAAEN,UAAU,GAAG;AADX,WAAV;;AAGA,cAAGE,UAAH,EAAe;AACb,gBAAIU,OAAO,GAAGV,UAAU,CAACQ,IAAD,CAAxB;;AACA,gBAAGE,OAAH,EAAY;AACVD,cAAAA,GAAG,CAACC,OAAJ,GAAcA,OAAd;AACD;AACF;;AACDR,UAAAA,QAAQ,CAACO,GAAD,CAAR;;AACA,cAAGR,OAAH,EAAY;AACVA,YAAAA,OAAO,CAACC,QAAD,EAAWC,QAAX,CAAP;AACD;AACF,SAhBD,EAiBCQ,KAjBD,CAiBQ,UAAAC,GAAG,EAAI;AACbV,UAAAA,QAAQ,CAAE;AACRE,YAAAA,IAAI,EAAEN,UAAU,GAAG,QADX;AAERY,YAAAA,OAAO,EAAEE;AAFD,WAAF,CAAR;AAID,SAtBD;AAuBH;AA1BO,KAAF,CAAR;AA4BD,GA7BD;AA8BD;AAED,OAAO,IAAIC,uBAAuB,GAAG;AAC/BC,EAAAA,mBAAmB,EAAE;AADU,CAA9B;AAIP,OAAO,IAAIC,4BAA4B,GAAG;AACpCD,EAAAA,mBAAmB,EAAE;AADe,CAAnC;AAIP,OAAO,IAAIE,QAAQ,GAAK,YAAY;AAClC,MAAIC,CAAC,GAAGC,QAAQ,CAACC,aAAT,CAAwB,GAAxB,CAAR;AACAD,EAAAA,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA2BJ,CAA3B;AACAA,EAAAA,CAAC,CAACK,KAAF,GAAU,eAAV;AACA,SAAO,UAAWd,IAAX,EAAiBe,QAAjB,EAA4B;AAChC,QAAIC,GAAG,GAAGC,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA4BnB,IAA5B,CAAV;AACCS,IAAAA,CAAC,CAACW,IAAF,GAASJ,GAAT;AACAP,IAAAA,CAAC,CAACY,QAAF,GAAaN,QAAb;AACAN,IAAAA,CAAC,CAACa,KAAF;AACAL,IAAAA,MAAM,CAACC,GAAP,CAAWK,eAAX,CAA4BP,GAA5B;AAEH,GAPD;AAQD,CAZuB,EAAjB;AAcP,OAAO,IAAIQ,aAAa,GAAG,SAAhBA,aAAgB,CAACxB,IAAD,EAAU;AACnC,SAAOyB,IAAI,CAACC,KAAL,CAAY1B,IAAI,CAACA,IAAjB,CAAP;AACD,CAFM","sourcesContent":["export function swaggerAction (actionType, getAction, getPayload, getNext) {\n  return (dispatch, getState) => {\n    dispatch( {\n      type: actionType,\n      swagger: function ( api ) {\n          getAction(api)\n          .then( data => {\n           \n            var msg = {\n              type: actionType + \"_SUCCESS\"\n            }\n            if(getPayload) {\n              var payload = getPayload(data);\n              if(payload) {\n                msg.payload = payload;\n              }\n            }\n            dispatch(msg);\n            if(getNext) {\n              getNext(dispatch, getState);\n            }\n          } )\n          .catch( err => {\n            dispatch( {\n              type: actionType + \"_ERROR\",\n              payload: err\n            } );\n          } )\n      }\n    } )\n  }\n}\n\nexport var jsonResponseContentType = {\n      responseContentType: 'application/json'\n}\n\nexport var multipartResponseContentType = {\n      responseContentType: 'multipart/form-data'\n}\n\nexport var saveData = ( function () {\n  var a = document.createElement( 'a' );\n  document.body.appendChild( a );\n  a.style = 'display: none';\n  return function ( data, fileName ) {\n     var url = window.URL.createObjectURL( data );\n      a.href = url;\n      a.download = fileName;\n      a.click();\n      window.URL.revokeObjectURL( url );\n    \n  };\n}());\n\nexport var parseJsonData = (data) => {\n  return JSON.parse( data.data );\n}"]},"metadata":{},"sourceType":"module"}