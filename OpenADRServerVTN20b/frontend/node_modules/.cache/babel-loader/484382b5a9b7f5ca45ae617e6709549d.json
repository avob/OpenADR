{"ast":null,"code":"import _classCallCheck from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/src/components/common/EventTargetPanel.js\";\nimport React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport AddIcon from '@material-ui/icons/Add';\nimport Button from '@material-ui/core/Button';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { GroupSelectDialog, TargetSelectDialog } from './VtnconfigurationDialog';\nimport { VenAutocomplete } from './Autocomplete';\n\nvar EventTargetTable = function EventTargetTable(props) {\n  var classes = props.classes;\n  return React.createElement(Paper, {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(Table, {\n    className: classes.table,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Target Type\"), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Target ID\"), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Targeted Devices\"), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }))), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, props.eventTarget.map(function (row, index) {\n    return React.createElement(TableRow, {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      scope: \"row\",\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, row.targetType), React.createElement(TableCell, {\n      scope: \"row\",\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, row.targetId), React.createElement(TableCell, {\n      scope: \"row\",\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(TableCell, {\n      scope: \"row\",\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"small\",\n      color: \"secondary\",\n      onClick: props.handleRemoveTargetAtIndex(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \" REMOVE \")));\n  }))));\n};\n\nexport var EventTargetPanel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EventTargetPanel, _React$Component);\n\n  function EventTargetPanel(props) {\n    var _this;\n\n    _classCallCheck(this, EventTargetPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EventTargetPanel).call(this, props));\n\n    _this.handleCreateTarget = function () {\n      var target = _this.props.eventTarget;\n      target.push({\n        targetType: _this.state.createTargetType,\n        targetId: _this.state.createTargetId\n      });\n\n      _this.props.onChange(target);\n\n      _this.setState({\n        createTargetType: \"\",\n        createTargetId: \"\"\n      });\n    };\n\n    _this.handleCancelTarget = function () {\n      _this.setState({\n        createTargetType: \"\",\n        createTargetId: \"\"\n      });\n    };\n\n    _this.handleRemoveTargetAtIndex = function (index) {\n      return function () {\n        var target = _this.props.eventTarget;\n        target.splice(index, 1);\n\n        _this.props.onChange(target);\n      };\n    };\n\n    _this.handleTargetTypeChange = function (e) {\n      _this.setState({\n        createTargetType: e.target.value\n      });\n    };\n\n    _this.handleTargetIdChange = function (e) {\n      _this.setState({\n        createTargetId: e.target.value\n      });\n    };\n\n    _this.handleTargetSelectDialogClose = function (targetType) {\n      var newState = {\n        targetSelectDialog: false\n      };\n\n      if (targetType != null) {\n        newState.createTargetType = targetType;\n      }\n\n      _this.setState(newState);\n    };\n\n    _this.handleTargetSelectDialogOpen = function () {\n      _this.setState({\n        targetSelectDialog: true\n      });\n    };\n\n    _this.handleGroupSelectClose = function (group) {\n      var newState = {\n        groupSelectDialog: false\n      };\n\n      if (group != null) {\n        newState.createTargetId = group.name;\n      }\n\n      _this.setState(newState);\n    };\n\n    _this.handleGroupSelectOpen = function () {\n      _this.setState({\n        groupSelectDialog: true\n      });\n    };\n\n    _this.onVenSuggestionsSelect = function (ven) {\n      console.log(ven);\n\n      if (ven != null) {\n        _this.setState({\n          createTargetId: ven.username\n        });\n      }\n    };\n\n    _this.state = {\n      createTargetType: \"\",\n      createTargetId: \"\",\n      targetSelectDialog: false,\n      groupSelectDialog: false\n    };\n    return _this;\n  }\n\n  _createClass(EventTargetPanel, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          hasError = _this$props.hasError,\n          eventTarget = _this$props.eventTarget,\n          group = _this$props.group;\n      return React.createElement(Grid, {\n        container: true,\n        spacing: 8,\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        label: \"Select Target Type\",\n        error: hasError && eventTarget.marketContext == null,\n        value: this.state.createTargetType,\n        placeholder: \"Ven, Group ...\",\n        className: classes.textField,\n        fullWidth: true,\n        onClick: this.handleTargetSelectDialogOpen,\n        InputProps: {\n          readOnly: true\n        },\n        InputLabelProps: {\n          shrink: true\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), React.createElement(TargetSelectDialog, {\n        open: this.state.targetSelectDialog,\n        close: this.handleTargetSelectDialogClose,\n        title: \"Select Target Type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      })), this.state.createTargetType == \"group\" ? React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        required: true,\n        label: \"Group\",\n        value: this.state.createTargetId,\n        className: classes.textField,\n        fullWidth: true,\n        onClick: this.handleGroupSelectOpen,\n        InputProps: {\n          readOnly: true\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }), React.createElement(GroupSelectDialog, {\n        group: group,\n        open: this.state.groupSelectDialog,\n        close: this.handleGroupSelectClose,\n        title: \"Select Market Context\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      })) : null, this.state.createTargetType == \"ven\" ? React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(VenAutocomplete, {\n        suggestions: this.props.ven,\n        onSuggestionsFetchRequested: this.props.onVenSuggestionsFetchRequested,\n        onSuggestionsClearRequested: this.props.onVenSuggestionsClearRequested,\n        onSuggestionsSelect: this.onVenSuggestionsSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      })) : null, this.state.createTargetType != \"\" && this.state.createTargetId != \"\" ? React.createElement(Grid, {\n        item: true,\n        xs: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(Button, {\n        key: \"btn_create\",\n        variant: \"outlined\",\n        color: \"primary\",\n        size: \"small\",\n        className: classes.button,\n        style: {\n          marginTop: 13\n        },\n        onClick: this.handleCreateTarget,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }), \"Create\")) : null, this.state.createTargetType != \"\" ? React.createElement(Grid, {\n        item: true,\n        xs: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(Button, {\n        key: \"btn_cancel\",\n        variant: \"outlined\",\n        color: \"secondary\",\n        size: \"small\",\n        className: classes.button,\n        style: {\n          marginTop: 13\n        },\n        onClick: this.handleCancelTarget,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }), \"Cancel\")) : null), React.createElement(Grid, {\n        container: true,\n        spacing: 24,\n        style: {\n          marginTop: 20,\n          marginBottom: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(EventTargetTable, {\n        classes: classes,\n        eventTarget: eventTarget,\n        handleRemoveTargetAtIndex: this.handleRemoveTargetAtIndex,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return EventTargetPanel;\n}(React.Component);\nexport default EventTargetPanel;","map":{"version":3,"sources":["/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/src/components/common/EventTargetPanel.js"],"names":["React","TextField","Grid","AddIcon","Button","Table","TableBody","TableCell","TableHead","TableRow","Paper","GroupSelectDialog","TargetSelectDialog","VenAutocomplete","EventTargetTable","props","classes","root","table","eventTarget","map","row","index","targetType","targetId","handleRemoveTargetAtIndex","EventTargetPanel","handleCreateTarget","target","push","state","createTargetType","createTargetId","onChange","setState","handleCancelTarget","splice","handleTargetTypeChange","e","value","handleTargetIdChange","handleTargetSelectDialogClose","newState","targetSelectDialog","handleTargetSelectDialogOpen","handleGroupSelectClose","group","groupSelectDialog","name","handleGroupSelectOpen","onVenSuggestionsSelect","ven","console","log","username","hasError","marketContext","textField","readOnly","shrink","onVenSuggestionsFetchRequested","onVenSuggestionsClearRequested","button","marginTop","marginBottom","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAQA,OAAOC,SAAP,MAAsB,6BAAtB;AAEA,OAAOC,IAAP,MAAiB,wBAAjB;AASA,OAAOC,OAAP,MAAoB,wBAApB;AAEA,OAAOC,MAAP,MAAmB,0BAAnB;AAEA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AAMA,SAASC,iBAAT,EAA4BC,kBAA5B,QAAsD,0BAAtD;AAEA,SAAQC,eAAR,QAA8B,gBAA9B;;AAKA,IAAIC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD,EAAW;AAAA,MACzBC,OADyB,GACdD,KADc,CACzBC,OADyB;AAEhC,SACE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAEA,OAAO,CAACC,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAED,OAAO,CAACE,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,EAGE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF,EAIE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CADF,CADF,EASE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,KAAK,CAACI,WAAN,CAAkBC,GAAlB,CAAuB,UAACC,GAAD,EAAMC,KAAN;AAAA,WACtB,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,KAAjB;AAAuB,MAAA,KAAK,EAAC,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsCD,GAAG,CAACE,UAA1C,CADF,EAEE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,KAAjB;AAAuB,MAAA,KAAK,EAAC,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsCF,GAAG,CAACG,QAA1C,CAFF,EAGE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,KAAjB;AAAuB,MAAA,KAAK,EAAC,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,KAAjB;AAAuB,MAAA,KAAK,EAAC,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,OAAb;AAAqB,MAAA,KAAK,EAAC,WAA3B;AAAuC,MAAA,OAAO,EAAET,KAAK,CAACU,yBAAN,CAAgCH,KAAhC,CAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CAJF,CADsB;AAAA,GAAvB,CADH,CATF,CADF,CADF;AA0BD,CA5BD;;AA8BA,WAAaI,gBAAb;AAAA;AAAA;AAAA;;AAEE,4BAAaX,KAAb,EAAqB;AAAA;;AAAA;;AACnB,0FAAOA,KAAP;;AADmB,UAUrBY,kBAVqB,GAUA,YAAM;AACzB,UAAIC,MAAM,GAAG,MAAKb,KAAL,CAAWI,WAAxB;AACAS,MAAAA,MAAM,CAACC,IAAP,CAAY;AACVN,QAAAA,UAAU,EAAE,MAAKO,KAAL,CAAWC,gBADb;AAEVP,QAAAA,QAAQ,EAAE,MAAKM,KAAL,CAAWE;AAFX,OAAZ;;AAIA,YAAKjB,KAAL,CAAWkB,QAAX,CAAoBL,MAApB;;AACA,YAAKM,QAAL,CAAc;AACZH,QAAAA,gBAAgB,EAAE,EADN;AAEZC,QAAAA,cAAc,EAAE;AAFJ,OAAd;AAID,KArBoB;;AAAA,UAuBrBG,kBAvBqB,GAuBA,YAAM;AACzB,YAAKD,QAAL,CAAc;AACZH,QAAAA,gBAAgB,EAAE,EADN;AAEZC,QAAAA,cAAc,EAAE;AAFJ,OAAd;AAID,KA5BoB;;AAAA,UA8BrBP,yBA9BqB,GA8BO,UAACH,KAAD;AAAA,aAAW,YAAM;AAC3C,YAAIM,MAAM,GAAG,MAAKb,KAAL,CAAWI,WAAxB;AACAS,QAAAA,MAAM,CAACQ,MAAP,CAAcd,KAAd,EAAoB,CAApB;;AACA,cAAKP,KAAL,CAAWkB,QAAX,CAAoBL,MAApB;AACD,OAJ2B;AAAA,KA9BP;;AAAA,UAoCrBS,sBApCqB,GAoCI,UAACC,CAAD,EAAO;AAC9B,YAAKJ,QAAL,CAAc;AAACH,QAAAA,gBAAgB,EAAEO,CAAC,CAACV,MAAF,CAASW;AAA5B,OAAd;AACD,KAtCoB;;AAAA,UAwCrBC,oBAxCqB,GAwCE,UAACF,CAAD,EAAO;AAC5B,YAAKJ,QAAL,CAAc;AAACF,QAAAA,cAAc,EAAEM,CAAC,CAACV,MAAF,CAASW;AAA1B,OAAd;AACD,KA1CoB;;AAAA,UA4CrBE,6BA5CqB,GA4CW,UAAClB,UAAD,EAAgB;AAC9C,UAAImB,QAAQ,GAAG;AAACC,QAAAA,kBAAkB,EAAE;AAArB,OAAf;;AACA,UAAGpB,UAAU,IAAI,IAAjB,EAAsB;AACpBmB,QAAAA,QAAQ,CAACX,gBAAT,GAA4BR,UAA5B;AACD;;AACD,YAAKW,QAAL,CAAcQ,QAAd;AACD,KAlDoB;;AAAA,UAoDrBE,4BApDqB,GAoDU,YAAM;AACnC,YAAKV,QAAL,CAAc;AAACS,QAAAA,kBAAkB,EAAE;AAArB,OAAd;AACD,KAtDoB;;AAAA,UAwDrBE,sBAxDqB,GAwDI,UAACC,KAAD,EAAW;AAClC,UAAIJ,QAAQ,GAAG;AAACK,QAAAA,iBAAiB,EAAE;AAApB,OAAf;;AACA,UAAGD,KAAK,IAAI,IAAZ,EAAiB;AACfJ,QAAAA,QAAQ,CAACV,cAAT,GAA0Bc,KAAK,CAACE,IAAhC;AACD;;AACD,YAAKd,QAAL,CAAcQ,QAAd;AACD,KA9DoB;;AAAA,UAgErBO,qBAhEqB,GAgEG,YAAM;AAC5B,YAAKf,QAAL,CAAc;AAACa,QAAAA,iBAAiB,EAAE;AAApB,OAAd;AACD,KAlEoB;;AAAA,UAoErBG,sBApEqB,GAoEI,UAACC,GAAD,EAAS;AAChCC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,UAAGA,GAAG,IAAI,IAAV,EAAe;AACb,cAAKjB,QAAL,CAAc;AAACF,UAAAA,cAAc,EAAEmB,GAAG,CAACG;AAArB,SAAd;AACD;AACF,KAzEoB;;AAEnB,UAAKxB,KAAL,GAAa;AACXC,MAAAA,gBAAgB,EAAE,EADP;AAEXC,MAAAA,cAAc,EAAE,EAFL;AAGXW,MAAAA,kBAAkB,EAAE,KAHT;AAIXI,MAAAA,iBAAiB,EAAE;AAJR,KAAb;AAFmB;AAQpB;;AAVH;AAAA;AAAA,6BA8EW;AAAA,wBACyC,KAAKhC,KAD9C;AAAA,UACAC,OADA,eACAA,OADA;AAAA,UACSuC,QADT,eACSA,QADT;AAAA,UACmBpC,WADnB,eACmBA,WADnB;AAAA,UACgC2B,KADhC,eACgCA,KADhC;AAGP,aACA,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AACM,QAAA,OAAO,EAAG,CADhB;AAEM,QAAA,OAAO,EAAC,QAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,OAAO,EAAG,EAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAG,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAC,oBAAjB;AAAsC,QAAA,KAAK,EAAES,QAAQ,IAAIpC,WAAW,CAACqC,aAAZ,IAA6B,IAAtF;AACM,QAAA,KAAK,EAAG,KAAK1B,KAAL,CAAWC,gBADzB;AAEM,QAAA,WAAW,EAAC,gBAFlB;AAGM,QAAA,SAAS,EAAEf,OAAO,CAACyC,SAHzB;AAIM,QAAA,SAAS,EAAE,IAJjB;AAKM,QAAA,OAAO,EAAE,KAAKb,4BALpB;AAMM,QAAA,UAAU,EAAG;AAAEc,UAAAA,QAAQ,EAAE;AAAZ,SANnB;AAMyC,QAAA,eAAe,EAAE;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAN1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EASI,oBAAC,kBAAD;AAAoB,QAAA,IAAI,EAAG,KAAK7B,KAAL,CAAWa,kBAAtC;AACoB,QAAA,KAAK,EAAG,KAAKF,6BADjC;AAEoB,QAAA,KAAK,EAAC,oBAF1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATJ,CADJ,EAkBO,KAAKX,KAAL,CAAWC,gBAAX,IAA+B,OAAhC,GAA2C,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAG,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAC3C,oBAAC,SAAD;AAAW,QAAA,QAAQ,MAAnB;AAAoB,QAAA,KAAK,EAAC,OAA1B;AACK,QAAA,KAAK,EAAE,KAAKD,KAAL,CAAWE,cADvB;AAEK,QAAA,SAAS,EAAEhB,OAAO,CAACyC,SAFxB;AAGK,QAAA,SAAS,EAAE,IAHhB;AAIK,QAAA,OAAO,EAAE,KAAKR,qBAJnB;AAKK,QAAA,UAAU,EAAE;AAAES,UAAAA,QAAQ,EAAE;AAAZ,SALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAD2C,EAQzC,oBAAC,iBAAD;AAAmB,QAAA,KAAK,EAAGZ,KAA3B;AAC2B,QAAA,IAAI,EAAG,KAAKhB,KAAL,CAAWiB,iBAD7C;AAE2B,QAAA,KAAK,EAAG,KAAKF,sBAFxC;AAG2B,QAAA,KAAK,EAAC,uBAHjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARyC,CAA3C,GAYQ,IA9Bd,EAgCO,KAAKf,KAAL,CAAWC,gBAAX,IAA+B,KAAhC,GAAyC,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAG,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACzC,oBAAC,eAAD;AAAkB,QAAA,WAAW,EAAE,KAAKhB,KAAL,CAAWoC,GAA1C;AACE,QAAA,2BAA2B,EAAE,KAAKpC,KAAL,CAAW6C,8BAD1C;AAEE,QAAA,2BAA2B,EAAE,KAAK7C,KAAL,CAAW8C,8BAF1C;AAGE,QAAA,mBAAmB,EAAE,KAAKX,sBAH5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADyC,CAAzC,GAKQ,IArCd,EAuCO,KAAKpB,KAAL,CAAWC,gBAAX,IAA+B,EAA/B,IAAqC,KAAKD,KAAL,CAAWE,cAAX,IAA6B,EAAnE,GAAyE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAG,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACzE,oBAAC,MAAD;AAAQ,QAAA,GAAG,EAAC,YAAZ;AACgB,QAAA,OAAO,EAAC,UADxB;AAEgB,QAAA,KAAK,EAAC,SAFtB;AAGgB,QAAA,IAAI,EAAC,OAHrB;AAIgB,QAAA,SAAS,EAAGhB,OAAO,CAAC8C,MAJpC;AAKgB,QAAA,KAAK,EAAG;AAAEC,UAAAA,SAAS,EAAE;AAAb,SALxB;AAMgB,QAAA,OAAO,EAAG,KAAKpC,kBAN/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOU,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPV,WADyE,CAAzE,GAUQ,IAjDd,EAmDO,KAAKG,KAAL,CAAWC,gBAAX,IAA+B,EAAhC,GAAsC,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAG,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACtC,oBAAC,MAAD;AAAQ,QAAA,GAAG,EAAC,YAAZ;AACgB,QAAA,OAAO,EAAC,UADxB;AAEgB,QAAA,KAAK,EAAC,WAFtB;AAGgB,QAAA,IAAI,EAAC,OAHrB;AAIgB,QAAA,SAAS,EAAGf,OAAO,CAAC8C,MAJpC;AAKgB,QAAA,KAAK,EAAG;AAAEC,UAAAA,SAAS,EAAE;AAAb,SALxB;AAMgB,QAAA,OAAO,EAAG,KAAK5B,kBAN/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOU,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPV,WADsC,CAAtC,GAUQ,IA7Dd,CAJF,EAmEE,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,OAAO,EAAG,EAA1B;AACG,QAAA,KAAK,EAAG;AAAE4B,UAAAA,SAAS,EAAE,EAAb;AAAiBC,UAAAA,YAAY,EAAC;AAA9B,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAG,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,gBAAD;AAAkB,QAAA,OAAO,EAAEhD,OAA3B;AAAoC,QAAA,WAAW,EAAEG,WAAjD;AACA,QAAA,yBAAyB,EAAE,KAAKM,yBADhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CAnEF,CADA;AA8ED;AA/JH;;AAAA;AAAA,EAAsCzB,KAAK,CAACiE,SAA5C;AAkKA,eAAevC,gBAAf","sourcesContent":["import React from 'react';\n\n\n\n\n\n\n\nimport TextField from '@material-ui/core/TextField';\n\nimport Grid from '@material-ui/core/Grid';\n\n\n\n\n\n\n\n\nimport AddIcon from '@material-ui/icons/Add';\n\nimport Button from '@material-ui/core/Button';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\n\n\n\n\nimport { GroupSelectDialog, TargetSelectDialog } from './VtnconfigurationDialog'\n\nimport {VenAutocomplete} from './Autocomplete'\n\n\n\n\nvar EventTargetTable = (props) => {\n  const {classes} = props;\n  return (\n    <Paper className={classes.root}>\n      <Table className={classes.table}>\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"right\">Target Type</TableCell>\n            <TableCell align=\"right\">Target ID</TableCell>\n            <TableCell align=\"right\">Targeted Devices</TableCell>\n            <TableCell align=\"right\"></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {props.eventTarget.map( (row, index) => (\n            <TableRow key={index}>\n              <TableCell scope=\"row\" align=\"right\">{row.targetType}</TableCell>\n              <TableCell scope=\"row\" align=\"right\">{row.targetId}</TableCell>\n              <TableCell scope=\"row\" align=\"right\"></TableCell>\n              <TableCell scope=\"row\" align=\"right\">\n                  <Button size=\"small\" color=\"secondary\" onClick={props.handleRemoveTargetAtIndex(index)}> REMOVE </Button>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n\nexport class EventTargetPanel extends React.Component {\n\n  constructor( props ) {\n    super( props )\n    this.state = {\n      createTargetType: \"\",\n      createTargetId: \"\",\n      targetSelectDialog: false,\n      groupSelectDialog: false\n    }\n  }\n\n  handleCreateTarget = () => {\n    let target = this.props.eventTarget;\n    target.push({\n      targetType: this.state.createTargetType,\n      targetId: this.state.createTargetId\n    });\n    this.props.onChange(target);\n    this.setState({\n      createTargetType: \"\",\n      createTargetId: \"\",\n    });\n  }\n\n  handleCancelTarget = () => {\n    this.setState({\n      createTargetType: \"\",\n      createTargetId: \"\",\n    });\n  }\n\n  handleRemoveTargetAtIndex = (index) => () => {\n    let target = this.props.eventTarget;\n    target.splice(index,1);\n    this.props.onChange(target);\n  }\n\n  handleTargetTypeChange = (e) => {\n    this.setState({createTargetType: e.target.value});\n  }\n\n  handleTargetIdChange = (e) => {\n    this.setState({createTargetId: e.target.value});\n  }\n\n  handleTargetSelectDialogClose = (targetType) => {\n    var newState = {targetSelectDialog: false}\n    if(targetType != null){\n      newState.createTargetType = targetType;\n    }\n    this.setState(newState);\n  }\n\n  handleTargetSelectDialogOpen = () => {\n    this.setState({targetSelectDialog: true});\n  }\n\n  handleGroupSelectClose = (group) => {\n    var newState = {groupSelectDialog: false}\n    if(group != null){\n      newState.createTargetId = group.name;\n    }\n    this.setState(newState);\n  }\n\n  handleGroupSelectOpen = () => {\n    this.setState({groupSelectDialog: true});\n  }\n\n  onVenSuggestionsSelect = (ven) => {\n    console.log(ven)\n    if(ven != null){\n      this.setState({createTargetId: ven.username});\n    }\n  } \n\n\n  render() {\n    const {classes, hasError, eventTarget, group} = this.props;\n\n    return (\n    <Grid container\n          spacing={ 8 }\n          justify=\"center\">\n      \n      <Grid container spacing={ 24 }>\n          <Grid item xs={ 2 }>\n           <TextField label=\"Select Target Type\" error={hasError && eventTarget.marketContext == null}\n                 value={ this.state.createTargetType }\n                 placeholder=\"Ven, Group ...\"\n                 className={classes.textField}\n                 fullWidth={true}\n                 onClick={this.handleTargetSelectDialogOpen}\n                 InputProps={ { readOnly: true, } } InputLabelProps={{ shrink: true }}/>\n\n              <TargetSelectDialog open={ this.state.targetSelectDialog }\n                                  close={ this.handleTargetSelectDialogClose }\n                                  title=\"Select Target Type\" />\n\n\n            \n          </Grid>\n\n          { (this.state.createTargetType == \"group\") ? <Grid item xs={ 6 }>\n            <TextField required label=\"Group\" \n                 value={this.state.createTargetId}\n                 className={classes.textField}\n                 fullWidth={true}\n                 onClick={this.handleGroupSelectOpen}\n                 InputProps={{ readOnly: true }} />\n\n              <GroupSelectDialog group={ group}\n                                         open={ this.state.groupSelectDialog }\n                                         close={ this.handleGroupSelectClose }\n                                         title=\"Select Market Context\" />\n          </Grid> : null}\n\n          { (this.state.createTargetType == \"ven\") ? <Grid item xs={ 6 }>\n            <VenAutocomplete  suggestions={this.props.ven}\n              onSuggestionsFetchRequested={this.props.onVenSuggestionsFetchRequested}\n              onSuggestionsClearRequested={this.props.onVenSuggestionsClearRequested}\n              onSuggestionsSelect={this.onVenSuggestionsSelect}/>\n          </Grid> : null}\n\n          { (this.state.createTargetType != \"\" && this.state.createTargetId != \"\") ? <Grid item xs={ 2 }>\n            <Button key=\"btn_create\"\n                            variant=\"outlined\"\n                            color=\"primary\"\n                            size=\"small\"\n                            className={ classes.button }\n                            style={ { marginTop: 13 } }\n                            onClick={ this.handleCreateTarget }>\n                      <AddIcon />Create\n                    </Button>\n          </Grid> : null}\n\n          { (this.state.createTargetType != \"\") ? <Grid item xs={ 2 }>\n            <Button key=\"btn_cancel\"\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            size=\"small\"\n                            className={ classes.button }\n                            style={ { marginTop: 13 } }\n                            onClick={ this.handleCancelTarget }>\n                      <AddIcon />Cancel\n                    </Button>\n          </Grid> : null}\n      </Grid>\n      <Grid container spacing={ 24 }\n         style={ { marginTop: 20, marginBottom:10 } }>\n        <Grid item xs={ 12 }>\n          <EventTargetTable classes={classes} eventTarget={eventTarget} \n          handleRemoveTargetAtIndex={this.handleRemoveTargetAtIndex}/>\n        </Grid> \n      </Grid>\n      \n    </Grid>\n    );\n  }\n}\n\nexport default EventTargetPanel;\n"]},"metadata":{},"sourceType":"module"}