{"ast":null,"code":"import _classCallCheck from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/src/components/VenDetail/VenDetailEnrollment.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { withStyles, MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { VtnConfigurationVenCard, VtnConfigurationMarketContextCard, VtnConfigurationGroupCard } from '../common/VtnConfigurationCard';\nimport { MarketContextSelectDialog, GroupSelectDialog } from '../common/VtnconfigurationDialog';\nimport Input from '@material-ui/core/Input';\nimport InputBase from '@material-ui/core/InputBase';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport IconButton from '@material-ui/core/IconButton';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport ChipInput from 'material-ui-chip-input';\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport SearchIcon from '@material-ui/icons/Search';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport DoneIcon from '@material-ui/icons/Done';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\nimport VenDetailHeader from './VenDetailHeader';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { history } from '../../store/configureStore';\nimport { iCalDurationInSeconds, formatTimestamp } from '../../utils/time';\nimport { isActionReport, isHistoryReport, isTelemetryReport } from '../../utils/venReport';\n\nvar MarketContextGridList = function MarketContextGridList(props) {\n  return React.createElement(\"div\", {\n    className: props.classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(GridList, {\n    className: props.classes.gridList,\n    cols: 3,\n    spacing: 0,\n    cellHeight: \"auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, props.marketContext.map(function (context) {\n    return React.createElement(GridListTile, {\n      key: context.id,\n      className: props.classes.tile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(VtnConfigurationMarketContextCard, {\n      classes: props.classes,\n      context: context,\n      handleRemoveVenMarketContext: props.handleRemoveVenMarketContext(context),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }));\n  })));\n};\n\nexport var VenDetailEnrollment =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(VenDetailEnrollment, _React$Component);\n\n  function VenDetailEnrollment(props) {\n    var _this;\n\n    _classCallCheck(this, VenDetailEnrollment);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(VenDetailEnrollment).call(this, props));\n\n    _this.handleMarketContextSelectOpen = function () {\n      _this.setState({\n        marketContextSelectDialogOpen: true\n      });\n    };\n\n    _this.handleMarketContextSelectClose = function (context) {\n      if (context) {\n        _this.props.addVenMarketContext(_this.props.ven.username, context.id);\n      }\n\n      _this.setState({\n        marketContextSelectDialogOpen: false\n      });\n    };\n\n    _this.handleRemoveVenMarketContext = function (context) {\n      return function () {\n        console.log(context);\n\n        _this.props.removeVenMarketContext(_this.props.ven.username, context.id);\n      };\n    };\n\n    _this.state = {};\n    _this.state.marketContextSelectDialogOpen = false;\n    return _this;\n  }\n\n  _createClass(VenDetailEnrollment, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          ven = _this$props.ven,\n          marketContext = _this$props.marketContext,\n          venMarketContext = _this$props.venMarketContext;\n      var notSubscribedMarketContext = [];\n      var venMarketContextId = [];\n\n      for (var i in venMarketContext) {\n        venMarketContextId.push(venMarketContext[i].id);\n      }\n\n      for (var i in marketContext) {\n        if (venMarketContextId.indexOf(marketContext[i].id) == -1) {\n          notSubscribedMarketContext.push(marketContext[i]);\n        }\n      }\n\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(VenDetailHeader, {\n        classes: classes,\n        ven: ven,\n        actions: [],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(Divider, {\n        style: {\n          marginTop: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(ChipInput, {\n        label: \"Filters\",\n        placeholder: \"Filters\",\n        value: this.state.filter,\n        onAdd: this.handleAddChip,\n        onDelete: this.handleDeleteChip,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        className: classes.iconButton,\n        \"aria-label\": \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(SearchIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }))), React.createElement(Grid, {\n        item: true,\n        xs: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(Button, {\n        key: \"btn_create\",\n        style: {\n          marginTop: 15\n        },\n        variant: \"outlined\",\n        color: \"primary\",\n        size: \"small\",\n        fullWidth: true,\n        className: classes.button,\n        onClick: this.handleMarketContextSelectOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), \"Subscribe to a Market Context\"), React.createElement(MarketContextSelectDialog, {\n        marketContext: notSubscribedMarketContext,\n        open: this.state.marketContextSelectDialogOpen,\n        close: this.handleMarketContextSelectClose,\n        title: \"Add VEN to Market Context\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }))), React.createElement(Grid, {\n        container: true,\n        spacing: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(MarketContextGridList, {\n        classes: classes,\n        marketContext: venMarketContext,\n        handleRemoveVenMarketContext: this.handleRemoveVenMarketContext,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return VenDetailEnrollment;\n}(React.Component);\nexport default VenDetailEnrollment;","map":{"version":3,"sources":["/home/bzanni/Documents/github/OpenADR/OpenADRServerVTN20b/frontend/src/components/VenDetail/VenDetailEnrollment.js"],"names":["React","PropTypes","classNames","withStyles","MuiThemeProvider","createMuiTheme","VtnConfigurationVenCard","VtnConfigurationMarketContextCard","VtnConfigurationGroupCard","MarketContextSelectDialog","GroupSelectDialog","Input","InputBase","InputLabel","TextField","FormControl","Grid","Typography","Divider","GridList","GridListTile","GridListTileBar","IconButton","StarBorderIcon","ChipInput","Button","AddIcon","RemoveIcon","SearchIcon","SnackbarContent","DoneIcon","CloseIcon","CloudDownloadIcon","VenDetailHeader","Table","TableBody","TableCell","TableHead","TableRow","Paper","history","iCalDurationInSeconds","formatTimestamp","isActionReport","isHistoryReport","isTelemetryReport","MarketContextGridList","props","classes","root","gridList","marketContext","map","context","id","tile","handleRemoveVenMarketContext","VenDetailEnrollment","handleMarketContextSelectOpen","setState","marketContextSelectDialogOpen","handleMarketContextSelectClose","addVenMarketContext","ven","username","console","log","removeVenMarketContext","state","venMarketContext","notSubscribedMarketContext","venMarketContextId","i","push","indexOf","marginTop","filter","handleAddChip","handleDeleteChip","iconButton","button","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\n\nimport { withStyles, MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nimport { VtnConfigurationVenCard, VtnConfigurationMarketContextCard, VtnConfigurationGroupCard } from '../common/VtnConfigurationCard'\nimport { MarketContextSelectDialog, GroupSelectDialog } from '../common/VtnconfigurationDialog'\n\nimport Input from '@material-ui/core/Input';\nimport InputBase from '@material-ui/core/InputBase';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\n\n\nimport Typography from '@material-ui/core/Typography';\n\nimport Divider from '@material-ui/core/Divider';\n\n\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\n\nimport IconButton from '@material-ui/core/IconButton';\n\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\n\nimport ChipInput from 'material-ui-chip-input'\n\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport SearchIcon from '@material-ui/icons/Search';\n\n\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport DoneIcon from '@material-ui/icons/Done';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\n\nimport VenDetailHeader from './VenDetailHeader'\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\n\nimport { history } from '../../store/configureStore';\n\nimport {iCalDurationInSeconds, formatTimestamp} from '../../utils/time'\nimport {isActionReport, isHistoryReport, isTelemetryReport} from '../../utils/venReport'\n\nvar MarketContextGridList = (props) => {\n  return (\n  <div className={ props.classes.root }>\n    <GridList className={ props.classes.gridList }\n              cols={ 3 }\n              spacing={ 0 }\n              cellHeight=\"auto\">\n      { props.marketContext.map( context => (\n          <GridListTile key={ context.id } className={ props.classes.tile }>\n            <VtnConfigurationMarketContextCard classes={ props.classes }\n                                               context={ context }\n                                               handleRemoveVenMarketContext={ props.handleRemoveVenMarketContext( context ) } />\n          </GridListTile>\n        ) ) }\n    </GridList>\n  </div>\n  );\n}\n\nexport class VenDetailEnrollment extends React.Component {\n  constructor( props ) {\n    super( props );\n    this.state = {}\n     this.state.marketContextSelectDialogOpen = false;\n  }\n\n  handleMarketContextSelectOpen = () => {\n    this.setState( {\n      marketContextSelectDialogOpen: true\n    } );\n  }\n\n  handleMarketContextSelectClose = (context) => {\n    if ( context ) {\n      this.props.addVenMarketContext( this.props.ven.username, context.id )\n    }\n    this.setState( {\n      marketContextSelectDialogOpen: false\n    } );\n  }\n\n  handleRemoveVenMarketContext = (context) => {\n    return () => {\n      console.log( context )\n      this.props.removeVenMarketContext( this.props.ven.username, context.id )\n    }\n  }\n\n  render() {\n    const {classes, ven, marketContext, venMarketContext} = this.props;\n\n    var notSubscribedMarketContext = [];\n    var venMarketContextId = [];\n    for (var i in venMarketContext) {\n      venMarketContextId.push( venMarketContext[ i ].id );\n    }\n    for (var i in marketContext) {\n      if ( venMarketContextId.indexOf( marketContext[ i ].id ) == -1 ) {\n        notSubscribedMarketContext.push( marketContext[ i ] )\n      }\n    }\n\n\n    return (\n    <div className={ classes.root } >\n      <VenDetailHeader classes={classes} ven={ven} actions={[\n \n      ]\n      }/>\n      { /* MarketContext Row */ }\n      <Divider style={ { marginTop: '20px' } } />\n      <Grid container >\n        <Grid container>\n          <Grid item xs={ 8 }>\n            <ChipInput label=\"Filters\"\n                       placeholder=\"Filters\"\n                       value={ this.state.filter }\n                       onAdd={ this.handleAddChip }\n                       onDelete={ this.handleDeleteChip }\n                       fullWidth={ true } />\n          </Grid>\n          <Grid item xs={ 1 }>\n            <IconButton className={ classes.iconButton } aria-label=\"Search\">\n              <SearchIcon />\n            </IconButton>\n          </Grid>\n          <Grid item xs={ 3 }>\n            <Button key=\"btn_create\"\n                    style={ { marginTop: 15 } }\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    size=\"small\"\n                    fullWidth={true}\n                    className={ classes.button }\n                    onClick={ this.handleMarketContextSelectOpen }>\n              <AddIcon />Subscribe to a Market Context\n            </Button>\n            <MarketContextSelectDialog marketContext={ notSubscribedMarketContext }\n                                       open={ this.state.marketContextSelectDialogOpen }\n                                       close={ this.handleMarketContextSelectClose }\n                                       title=\"Add VEN to Market Context\" />\n          </Grid>\n        </Grid>\n        <Grid container spacing={ 24 }>\n          <Grid item xs={ 12 }>\n            <MarketContextGridList classes={ classes }\n                                   marketContext={ venMarketContext }\n                                   handleRemoveVenMarketContext={ this.handleRemoveVenMarketContext } />\n          </Grid>\n        </Grid>\n      </Grid>\n\n     \n    </div>\n    );\n  }\n}\n\nexport default VenDetailEnrollment;\n"]},"metadata":{},"sourceType":"module"}